/* General project styling */
.projects {
    overflow-x: hidden;
}

.project {
    padding-bottom: 5em;

    &:first-child {
        padding-top: 3em;
    }

    @media screen and (--medium-viewport) {
        padding-bottom: 6em;

        &:first-child {
            padding-top: 8em;
        }
    }

    ul {
        list-style: none;
    }

    li {
        width: 100%;
        padding-bottom: 0.5em;
        box-sizing: border-box;

        @media screen and (--medium-viewport) {
            width: 33.333%;
            padding: 0.4em;
        }

        @media screen and (--large-viewport) {
            padding: 0.3em;
        }
    }

    a {
        display: inherit;
    }

    .description {
        margin: 0 auto;
        max-width: 32em;
    }
}

/* Zoom-in */
.zoom-overlay-active {
	position: relative;
    overflow: hidden;
}

[data-zoomable] {
	cursor: zoom-in;

	&.is-active {
		img,
		video {
			position: relative;
			z-index: 100;
		}

		&::before {
			content: "";
			position: absolute;
			top: -100vh;
			left: -100vw;
			width: 100%;
			height: 100%;
			padding: 100vh 100vw;
			background-color: rgba(255, 255, 255, 0.85);
			z-index: 99;
			visibility: hidden;
			opacity: 0;
			transition: visibility 0s linear 0.22s, opacity 0.22s 0s;
			will-change: visibility, opacity;
			transform: translateZ(0);
		}
	}

	img,
	video {
		transition: transform 0.16s;
	    will-change: transform;
        transform: translateZ(0);
	}

	&.is-zoomed,
	&.is-zooming {
		cursor: zoom-out;

		&::before {
			visibility: visible;
			opacity: 1;
			transition: visibility 0s linear 0s, opacity 0.4s 0s;
		}
	}
}



/* Flickty specific styling */
.project {
    .flickity-enabled:focus {
        outline: none;
    }

    .flickity-viewport {
        position: relative;
        height: 100%;
    }

    .flickity-slider {
        position: absolute;
        width: 100%;
        height: 100%;

        &.is-dragging a {
            pointer-events: none;
        }
    }

    .is-pointer-down a {
        cursor: grabbing;
    }
}

/* Collage specific styling */
.view-collage .project {
    .collapsed {
        li:nth-child(5) {
            transform: scale(1.1);
        }
    }

    ul {
        @media screen and (--medium-viewport) {
            display: flex;
            flex-wrap: wrap;
            margin: -0.4em;
        }

        @media screen and (--large-viewport) {
            margin: -0.3em;
        }
    }

    li {
        transition: 0.08s transform ease;
        will-change: transform;

        &:nth-child(5) {
            position: relative;
            z-index: 5;

            .collapsed & {
                transform: scale(1.5);
            }
        }
    }
}
